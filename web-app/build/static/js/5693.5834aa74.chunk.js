"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[5693],{72237:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(65043),i=s(70579);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,i.jsx)(l.Suspense,{fallback:t,children:(0,i.jsx)(e,{...s})})}}},28481:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(65043),i=s(73216),n=s(89923),a=s(70579);const o=e=>{let{compactMode:t=!1}=e;const s=(0,i.Zp)(),o=(0,a.jsx)(n.$nd,{id:"go-to-register",type:"submit",variant:"callAction",color:"primary",onClick:()=>s("/support/register"),children:"Register your Cluster"}),r="Please use your MinIO Subscription Network login credentials to register this cluster and enable this feature.";return t?(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(n.xA9,{sx:{"& div.leftItems":{marginBottom:0}},children:(0,a.jsx)(n.lVp,{title:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:[(0,a.jsx)("span",{children:r})," ",o]}),iconComponent:(0,a.jsx)(n.cJw,{}),help:null})}),(0,a.jsx)("br",{})]}):(0,a.jsx)(n.azJ,{sx:{padding:"25px",border:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"row",marginBottom:"15px",["@media (max-width: ".concat(n.nmC.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.xA9,{container:!0,children:[(0,a.jsx)(n.xA9,{item:!0,xs:12,children:(0,a.jsx)(n.azJ,{sx:{marginRight:"8px",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center","& .min-icon":{width:"83px",height:"14px",marginLeft:"5px",marginRight:"5px"}},children:"Register your cluster"})}),(0,a.jsx)(n.xA9,{item:!0,xs:12,children:(0,a.jsx)(n.azJ,{sx:{display:"flex",flexFlow:"row",["@media (max-width: ".concat(n.nmC.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(n.azJ,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,a.jsx)(n.azJ,{sx:{fontSize:"16px",display:"flex",flexFlow:"column",marginTop:"15px",marginBottom:"15px"},children:r}),(0,a.jsx)(n.azJ,{sx:{flex:"1"},children:(0,a.jsx)(n.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:o})})]})})})]})})}},5693:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var l=s(65043),i=s(73216),n=s(72237),a=s(39808),o=s(89923),r=s(35475),x=s(20649),c=s(64159),d=s(20554),h=s(14558),p=s(94141),u=s(70579);const m=e=>{let{onClose:t,diagStatus:s,logsStatus:i,open:n,disable:a=!1}=e;const r=(0,d.jL)(),[h,m]=(0,l.useState)(!1),g=()=>{m(!0),x.A.invoke("PUT","/api/v1/support/callhome",{diagState:!a&&s,logsState:!a&&i}).then((e=>{r((0,c.Hk)("Configuration saved successfully")),m(!1),t(!0)})).catch((e=>{m(!1),r((0,c.C9)(e))}))};return(0,u.jsx)(p.A,{modalOpen:n,title:a?"Disable Call Home":"Edit Call Home Configurations",onClose:()=>t(!1),titleIcon:(0,u.jsx)(o.kfP,{}),children:a?(0,u.jsxs)(l.Fragment,{children:["Please Acknowledge that after doing this action, we will no longer receive updated cluster information automatically, losing the potential benefits that Call Home provides to your MinIO cluster.",(0,u.jsx)(o.xA9,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Are you sure you want to disable SUBNET Call Home?"}),(0,u.jsx)("br",{}),h&&(0,u.jsx)(o.xA9,{item:!0,xs:12,sx:{marginBottom:10},children:(0,u.jsx)(o.z21,{})}),(0,u.jsxs)(o.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(o.$nd,{id:"reset",type:"button",variant:"regular",disabled:h,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,u.jsx)(o.$nd,{id:"save-lifecycle",type:"submit",variant:"secondary",color:"primary",disabled:h,label:"Yes, Disable Call Home",onClick:g})]})]}):(0,u.jsxs)(l.Fragment,{children:["Are you sure you want to change the following configurations for SUBNET Call Home:",(0,u.jsxs)(o.xA9,{item:!0,sx:{margin:"20px 0",display:"flex",flexDirection:"column",gap:15},children:[(0,u.jsxs)(o.xA9,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,u.jsx)(o.GQ2,{style:{fill:s?"#4CCB92":"#C83B51",width:20}}),(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:s?"Enable":"Disable"})," - Send Diagnostics Information to SUBNET"]})]}),(0,u.jsxs)(o.xA9,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,u.jsx)(o.GQ2,{style:{fill:i?"#4CCB92":"#C83B51",width:20}}),(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:i?"Enable":"Disable"})," - Send Logs Information to SUBNET"]})]})]}),(0,u.jsx)(o.xA9,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Please Acknowledge that the information provided will only be available in your SUBNET Account and it will not be shared to other persons or entities besides MinIO team and you."}),h&&(0,u.jsx)(o.xA9,{item:!0,xs:12,sx:{marginBottom:10},children:(0,u.jsx)(o.z21,{})}),(0,u.jsxs)(o.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(o.$nd,{id:"reset",type:"button",variant:"regular",disabled:h,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,u.jsx)(o.$nd,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:h,label:"Yes, Save this Configuration",onClick:g})]})]})})};var g=s(28481),j=s(48793),f=s(92452);const b=()=>{const e=(0,d.jL)(),t=(0,i.Zp)(),[s,n]=(0,l.useState)(!0),[a,p]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[C,v]=(0,l.useState)(!1),[w,S]=(0,l.useState)(!1),[A,k]=(0,l.useState)(!1),[I,z]=(0,l.useState)(!1),B=(0,h.vf)();(0,l.useEffect)((()=>{s&&x.A.invoke("GET","/api/v1/support/callhome").then((e=>{n(!1),y(!!e.diagnosticsStatus),k(!!e.logsStatus),v(!!e.diagnosticsStatus),S(!!e.logsStatus)})).catch((t=>{n(!1),e((0,c.C9)(t))}))}),[s,e]);let E="regular";return!B||b===C&&A===w||(E="callAction"),(0,l.useEffect)((()=>{e((0,c.ph)("call_home"))}),[]),(0,u.jsxs)(l.Fragment,{children:[a&&(0,u.jsx)(m,{onClose:e=>{e&&n(!0),p(!1)},open:a,logsStatus:A,diagStatus:b,disable:I}),(0,u.jsx)(j.A,{label:"Call Home",actions:(0,u.jsx)(f.A,{})}),(0,u.jsxs)(o.Mxu,{children:[!B&&(0,u.jsx)(g.A,{compactMode:!0}),(0,u.jsx)(o.Hbc,{helpBox:(0,u.jsx)(o.lVp,{title:"Learn more about Call Home",iconComponent:(0,u.jsx)(o.kfP,{}),help:(0,u.jsx)(l.Fragment,{children:(0,u.jsx)(o.azJ,{sx:{display:"flex",flexFlow:"column",fontSize:"14px",flex:"2",marginTop:"10px"},children:(0,u.jsxs)(o.azJ,{children:["Enabling Call Home sends cluster health & status to your registered MinIO Subscription Network account every 24 hours.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"This helps the MinIO support team to provide quick incident responses along with suggestions for possible improvements that can be made to your MinIO instances.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"Your cluster must be"," ",(0,u.jsx)(r.N_,{to:"/support/register",children:"registered"})," in the MinIO Subscription Network (SUBNET) before enabling this feature."]})})})}),children:s?(0,u.jsx)("span",{style:{marginLeft:5},children:(0,u.jsx)(o.aHM,{style:{width:16,height:16}})}):(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(o.dOG,{value:"enableDiag",id:"enableDiag",name:"enableDiag",checked:b,onChange:e=>{y(e.target.checked)},label:"Daily Health Report",disabled:!B,description:"Daily Health Report enables you to proactively identify potential issues in your deployment before they escalate."}),(0,u.jsx)(o.dOG,{value:"enableLogs",id:"enableLogs",name:"enableLogs",checked:A,onChange:e=>{k(e.target.checked)},label:"Live Error Logs",disabled:!B,description:"Live Error Logs will enable MinIO's support team and automatic diagnostics system to catch failures early."}),(0,u.jsxs)(o.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"55px",gap:"0px 10px"},children:[(C||w)&&(0,u.jsx)(o.$nd,{id:"callhome-action",variant:"secondary","data-test-id":"call-home-toggle-button",onClick:()=>{z(!0),p(!0)},disabled:s||!B,children:"Disable Call Home"}),(0,u.jsx)(o.$nd,{id:"callhome-action",type:"button",variant:E,"data-test-id":"call-home-toggle-button",onClick:()=>{B?(z(!1),p(!0)):t("/support/register")},disabled:s||!B,children:"Save Configuration"})]})]})})]})]})},y=(0,n.A)(l.lazy((()=>s.e(2166).then(s.bind(s,2166))))),C=(0,n.A)(l.lazy((()=>s.e(7063).then(s.bind(s,97063))))),v=(0,n.A)(l.lazy((()=>s.e(3061).then(s.bind(s,43061))))),w=()=>(0,u.jsxs)(i.BV,{children:[(0,u.jsx)(i.qh,{path:"register",element:(0,u.jsx)(C,{})}),(0,u.jsx)(i.qh,{path:"profile",element:(0,u.jsx)(v,{})}),(0,u.jsx)(i.qh,{path:"call-home",element:(0,u.jsx)(b,{})}),(0,u.jsx)(i.qh,{path:"inspect",element:(0,u.jsx)(y,{})}),(0,u.jsx)(i.qh,{path:"*",element:(0,u.jsx)(a.A,{})})]})}}]);
//# sourceMappingURL=5693.5834aa74.chunk.js.map